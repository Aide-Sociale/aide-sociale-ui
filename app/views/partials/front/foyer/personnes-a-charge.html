<div class="page-header">
  <h1>Les autres personnes à votre charge</h1>
</div>

<div class="row">
  <div ng-repeat="personne in personnesACharge">
    <div class="clearfix" ng-if="$index % 3 === 0"></div>
    <div class="col-sm-4">
      <div class="panel-enfant">
        <div class="panel-body">
          {{ personne.firstName }}
          <button type="button" class="close" ng-click="removePersonneACharge(personne)">
            <span aria-hidden="true">&times;</span>
          </button>
          <div class="row">
            <div class="col-xs-4">
              <i class="fa fa-child icon-lg"></i>
            </div>
            <div class="col-xs-8">
              Né(e) le <strong>{{ personne.dateDeNaissance }}</strong>
              <br>Nationalité <strong>{{ nationalite(personne) }}</strong>
              <br><i>{{ statutsSpecifiques(personne) }}</i>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="clearfix" ng-if="personnesACharge.length % 3 === 0"></div>

  <div class="col-sm-4">
    <div class="panel-enfant panel-new-enfant">
      <div class="panel-body">
        <button class="btn btn-lg btn-default btn-block btn-new-entity" ng-click="newPersonneACharge()">
          Ajouter une<br>personne à charge
          <br><i class="fa fa-plus icon-lg"></i>
        </button>
      </div>
    </div>
  </div>
</div>

<div class="text-right" ng-if="!ajoutPersonneACharge">
  <button type="button" class="btn btn-primary" ng-click="validate()">
    <span ng-if="!personnesACharge.length">Je n'ai pas de personne à charge</span>
    <span ng-if="personnesACharge.length">Terminé</span>
    <br><i class="fa fa-arrow-circle-right"></i>
  </button>
</div>

<div ng-if="ajoutPersonneACharge">
  <h1 id="form-new-personne-a-charge">Nouvelle personne à charge</h1>
  <div ui-view="individuForm"></div>
</div>
